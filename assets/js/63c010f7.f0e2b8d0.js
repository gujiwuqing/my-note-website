"use strict";(self.webpackChunkmy_book=self.webpackChunkmy_book||[]).push([[548],{3905:(e,n,t)=>{t.d(n,{Zo:()=>m,kt:()=>k});var a=t(7294);function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){if(null==e)return{};var t,a,p=function(e,n){if(null==e)return{};var t,a,p={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(p[t]=e[t]);return p}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}var o=a.createContext({}),s=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},m=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,p=e.mdxType,l=e.originalType,o=e.parentName,m=r(e,["components","mdxType","originalType","parentName"]),u=s(t),k=p,g=u["".concat(o,".").concat(k)]||u[k]||c[k]||l;return t?a.createElement(g,i(i({ref:n},m),{},{components:t})):a.createElement(g,i({ref:n},m))}));function k(e,n){var t=arguments,p=n&&n.mdxType;if("string"==typeof e||p){var l=t.length,i=new Array(l);i[0]=u;var r={};for(var o in n)hasOwnProperty.call(n,o)&&(r[o]=n[o]);r.originalType=e,r.mdxType="string"==typeof e?e:p,i[1]=r;for(var s=2;s<l;s++)i[s]=t[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},3635:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>s});var a=t(7462),p=(t(7294),t(3905));const l={},i=void 0,r={unversionedId:"vite/\u9759\u6001\u8d44\u6e90: \u5982\u4f55\u5728 Vite \u4e2d\u5904\u7406\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff1f",id:"vite/\u9759\u6001\u8d44\u6e90: \u5982\u4f55\u5728 Vite \u4e2d\u5904\u7406\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff1f",title:"\u9759\u6001\u8d44\u6e90: \u5982\u4f55\u5728 Vite \u4e2d\u5904\u7406\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff1f",description:"\u9759\u6001\u8d44\u6e90\u5904\u7406\u662f\u524d\u7aef\u5de5\u7a0b\u7ecf\u5e38\u9047\u5230\u7684\u95ee\u9898\uff0c\u5728\u771f\u5b9e\u7684\u5de5\u7a0b\u4e2d\u4e0d\u4ec5\u4ec5\u5305\u542b\u4e86\u52a8\u6001\u6267\u884c\u7684\u4ee3\u7801\uff0c\u4e5f\u4e0d\u53ef\u907f\u514d\u5730\u8981\u5f15\u5165\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff0c\u5982\u56fe\u7247\u3001JSON\u3001Worker \u6587\u4ef6\u3001Web Assembly \u6587\u4ef6\u7b49\u7b49\u3002",source:"@site/docs/vite/6. \u9759\u6001\u8d44\u6e90: \u5982\u4f55\u5728 Vite \u4e2d\u5904\u7406\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff1f.md",sourceDirName:"vite",slug:"/vite/\u9759\u6001\u8d44\u6e90: \u5982\u4f55\u5728 Vite \u4e2d\u5904\u7406\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff1f",permalink:"/docs/vite/\u9759\u6001\u8d44\u6e90: \u5982\u4f55\u5728 Vite \u4e2d\u5904\u7406\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff1f",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/vite/6. \u9759\u6001\u8d44\u6e90: \u5982\u4f55\u5728 Vite \u4e2d\u5904\u7406\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff1f.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u4ee3\u7801\u89c4\u8303: \u5982\u4f55\u5229\u7528 Lint \u5de5\u5177\u94fe\u6765\u4fdd\u8bc1\u4ee3\u7801\u98ce\u683c\u548c\u8d28\u91cf\uff1f",permalink:"/docs/vite/\u4ee3\u7801\u89c4\u8303: \u5982\u4f55\u5229\u7528 Lint \u5de5\u5177\u94fe\u6765\u4fdd\u8bc1\u4ee3\u7801\u98ce\u683c\u548c\u8d28\u91cf\uff1f"},next:{title:"\u9884\u6784\u5efa: \u5982\u4f55\u73a9\u8f6c\u79d2\u7ea7\u4f9d\u8d56\u9884\u6784\u5efa\u7684\u80fd\u529b\uff1f",permalink:"/docs/vite/\u9884\u6784\u5efa: \u5982\u4f55\u73a9\u8f6c\u79d2\u7ea7\u4f9d\u8d56\u9884\u6784\u5efa\u7684\u80fd\u529b\uff1f"}},o={},s=[{value:"\u56fe\u7247\u52a0\u8f7d",id:"\u56fe\u7247\u52a0\u8f7d",level:2},{value:"1. \u4f7f\u7528\u573a\u666f",id:"1-\u4f7f\u7528\u573a\u666f",level:3},{value:"2. \u5728 Vite \u4e2d\u4f7f\u7528",id:"2-\u5728-vite-\u4e2d\u4f7f\u7528",level:3},{value:"3. SVG \u7ec4\u4ef6\u65b9\u5f0f\u52a0\u8f7d",id:"3-svg-\u7ec4\u4ef6\u65b9\u5f0f\u52a0\u8f7d",level:3},{value:"JSON \u52a0\u8f7d",id:"json-\u52a0\u8f7d",level:2},{value:"Web Worker \u811a\u672c",id:"web-worker-\u811a\u672c",level:2},{value:"Web Assembly \u6587\u4ef6",id:"web-assembly-\u6587\u4ef6",level:3},{value:"\u5176\u5b83\u9759\u6001\u8d44\u6e90",id:"\u5176\u5b83\u9759\u6001\u8d44\u6e90",level:3},{value:"\u7279\u6b8a\u8d44\u6e90\u540e\u7f00",id:"\u7279\u6b8a\u8d44\u6e90\u540e\u7f00",level:3},{value:"\u751f\u4ea7\u73af\u5883\u5904\u7406",id:"\u751f\u4ea7\u73af\u5883\u5904\u7406",level:2},{value:"1. \u81ea\u5b9a\u4e49\u90e8\u7f72\u57df\u540d",id:"1-\u81ea\u5b9a\u4e49\u90e8\u7f72\u57df\u540d",level:3},{value:"2. \u5355\u6587\u4ef6 or \u5185\u8054\uff1f",id:"2-\u5355\u6587\u4ef6-or-\u5185\u8054",level:3},{value:"3. \u56fe\u7247\u538b\u7f29",id:"3-\u56fe\u7247\u538b\u7f29",level:3},{value:"4. \u96ea\u78a7\u56fe\u4f18\u5316",id:"4-\u96ea\u78a7\u56fe\u4f18\u5316",level:3},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3",level:2}],m={toc:s};function c(e){let{components:n,...t}=e;return(0,p.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,p.kt)("p",null,"\u9759\u6001\u8d44\u6e90\u5904\u7406\u662f\u524d\u7aef\u5de5\u7a0b\u7ecf\u5e38\u9047\u5230\u7684\u95ee\u9898\uff0c\u5728\u771f\u5b9e\u7684\u5de5\u7a0b\u4e2d\u4e0d\u4ec5\u4ec5\u5305\u542b\u4e86\u52a8\u6001\u6267\u884c\u7684\u4ee3\u7801\uff0c\u4e5f\u4e0d\u53ef\u907f\u514d\u5730\u8981\u5f15\u5165\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff0c\u5982",(0,p.kt)("inlineCode",{parentName:"p"},"\u56fe\u7247"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"JSON"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"Worker \u6587\u4ef6"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"Web Assembly \u6587\u4ef6"),"\u7b49\u7b49\u3002"),(0,p.kt)("p",null,"\u800c\u9759\u6001\u8d44\u6e90\u672c\u8eab\u5e76\u4e0d\u662f\u6807\u51c6\u610f\u4e49\u4e0a\u7684\u6a21\u5757\uff0c\u56e0\u6b64\u5bf9\u5b83\u4eec\u7684\u5904\u7406\u548c\u666e\u901a\u7684\u4ee3\u7801\u662f\u9700\u8981\u533a\u522b\u5bf9\u5f85\u7684\u3002\u4e00\u65b9\u9762\u6211\u4eec\u9700\u8981\u89e3\u51b3",(0,p.kt)("strong",{parentName:"p"},"\u8d44\u6e90\u52a0\u8f7d"),"\u7684\u95ee\u9898\uff0c\u5bf9 Vite \u6765\u8bf4\u5c31\u662f\u5982\u4f55\u5c06\u9759\u6001\u8d44\u6e90\u89e3\u6790\u5e76\u52a0\u8f7d\u4e3a\u4e00\u4e2a ES \u6a21\u5757\u7684\u95ee\u9898\uff1b\u53e6\u4e00\u65b9\u9762\u5728",(0,p.kt)("strong",{parentName:"p"},"\u751f\u4ea7\u73af\u5883"),"\u4e0b\u6211\u4eec\u8fd8\u9700\u8981\u8003\u8651\u9759\u6001\u8d44\u6e90\u7684\u90e8\u7f72\u95ee\u9898\u3001\u4f53\u79ef\u95ee\u9898\u3001\u7f51\u7edc\u6027\u80fd\u95ee\u9898\uff0c\u5e76\u91c7\u53d6\u76f8\u5e94\u7684\u65b9\u6848\u6765\u8fdb\u884c\u4f18\u5316\u3002"),(0,p.kt)("p",null,"\u5728\u672c\u5c0f\u8282\uff0c\u6211\u5c06\u4e0e\u4f60\u5c31\u8fd9\u4e24\u65b9\u9762\u7684\u95ee\u9898\u5c55\u5f00\u63a2\u8ba8\uff0c\u7ed3\u5408 Vite \u81ea\u8eab\u7684\u80fd\u529b\u53ca\u5176\u751f\u6001\uff0c\u6765\u89e3\u51b3\u9879\u76ee\u4e2d\u9759\u6001\u8d44\u6e90\u5904\u7406\u7684\u5404\u4e2a\u7591\u96be\u70b9\uff0c\u540c\u65f6\u4e5f\u80fd\u7ee7\u7eed\u5b8c\u5584\u76ee\u524d\u7684 Vite \u811a\u624b\u67b6\u5de5\u7a0b\u3002"),(0,p.kt)("h2",{id:"\u56fe\u7247\u52a0\u8f7d"},"\u56fe\u7247\u52a0\u8f7d"),(0,p.kt)("p",null,"\u56fe\u7247\u662f\u9879\u76ee\u4e2d\u6700\u5e38\u7528\u7684\u9759\u6001\u8d44\u6e90\u4e4b\u4e00\uff0c\u672c\u8eab\u5305\u62ec\u4e86\u975e\u5e38\u591a\u7684\u683c\u5f0f\uff0c\u8bf8\u5982 png\u3001jpeg\u3001webp\u3001avif\u3001gif\uff0c\u5f53\u7136\uff0c\u4e5f\u5305\u62ec\u7ecf\u5e38\u7528\u4f5c\u56fe\u6807\u7684 svg \u683c\u5f0f\u3002\u8fd9\u4e00\u90e8\u5206\u6211\u4eec\u4e3b\u8981\u8ba8\u8bba\u7684\u662f\u5982\u4f55\u52a0\u8f7d\u56fe\u7247\uff0c\u4e5f\u5c31\u662f\u8bf4\u600e\u4e48\u8ba9\u56fe\u7247\u5728\u9875\u9762\u4e2d",(0,p.kt)("strong",{parentName:"p"},"\u6b63\u5e38\u663e\u793a"),"\u3002"),(0,p.kt)("h3",{id:"1-\u4f7f\u7528\u573a\u666f"},"1. \u4f7f\u7528\u573a\u666f"),(0,p.kt)("p",null,"\u5728\u65e5\u5e38\u7684\u9879\u76ee\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u9047\u5230\u4e09\u79cd\u52a0\u8f7d\u56fe\u7247\u7684\u573a\u666f:"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"\u5728 HTML \u6216\u8005 JSX \u4e2d\uff0c\u901a\u8fc7 img \u6807\u7b7e\u6765\u52a0\u8f7d\u56fe\u7247\uff0c\u5982:")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-html"},'<img src="../../assets/a.png"></img>\n')),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"\u5728 CSS \u4e2d\u901a\u8fc7 background \u5c5e\u6027\u52a0\u8f7d\u56fe\u7247\uff0c\u5982:")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-css"},"background: url('../../assets/b.png') norepeat;\n")),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"\u5728 JavaScript \u4e2d\uff0c\u901a\u8fc7\u811a\u672c\u7684\u65b9\u5f0f\u52a8\u6001\u6307\u5b9a\u56fe\u7247\u7684",(0,p.kt)("inlineCode",{parentName:"li"},"src"),"\u5c5e\u6027\uff0c\u5982:")),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"document.getElementById('hero-img').src = '../../assets/c.png'\n")),(0,p.kt)("p",null,"\u5f53\u7136\uff0c\u5927\u5bb6\u4e00\u822c\u8fd8\u4f1a\u6709\u522b\u540d\u8def\u5f84\u7684\u9700\u6c42\uff0c\u6bd4\u5982\u5730\u5740\u524d\u7f00\u76f4\u63a5\u6362\u6210",(0,p.kt)("inlineCode",{parentName:"p"},"@assets"),"\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u5f00\u53d1\u4eba\u5458\u624b\u52a8\u5bfb\u5740\uff0c\u964d\u4f4e\u5f00\u53d1\u65f6\u7684\u5fc3\u667a\u8d1f\u62c5\u3002"),(0,p.kt)("h3",{id:"2-\u5728-vite-\u4e2d\u4f7f\u7528"},"2. \u5728 Vite \u4e2d\u4f7f\u7528"),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u5728\u76ee\u524d\u7684\u811a\u624b\u67b6\u9879\u76ee\u6765\u8fdb\u884c\u5b9e\u9645\u7684\u7f16\u7801\uff0c\u4f60\u53ef\u4ee5\u5728 Vite \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u4e00\u4e0b\u522b\u540d\uff0c\u65b9\u4fbf\u540e\u7eed\u7684\u56fe\u7247\u5f15\u5165:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// vite.config.ts\nimport path from 'path';\n\n{\n  resolve: {\n    // \u522b\u540d\u914d\u7f6e\n    alias: {\n      '@assets': path.join(__dirname, 'src/assets')\n    }\n  }\n}\n")),(0,p.kt)("p",null,"\u8fd9\u6837 Vite \u5728\u9047\u5230",(0,p.kt)("inlineCode",{parentName:"p"},"@assets"),"\u8def\u5f84\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u5b9a\u4f4d\u81f3\u6839\u76ee\u5f55\u4e0b\u7684",(0,p.kt)("inlineCode",{parentName:"p"},"src/assets"),"\u76ee\u5f55\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0calias \u522b\u540d\u914d\u7f6e\u4e0d\u4ec5\u5728 JavaScript \u7684 import \u8bed\u53e5\u4e2d\u751f\u6548\uff0c\u5728 CSS \u4ee3\u7801\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"@import")," \u548c ",(0,p.kt)("inlineCode",{parentName:"p"},"url"),"\u5bfc\u5165\u8bed\u53e5\u4e2d\u4e5f\u540c\u6837\u751f\u6548\u3002"),(0,p.kt)("p",null,"\u73b0\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"src/assets")," \u76ee\u5f55\u7684\u5185\u5bb9\u5982\u4e0b:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-bash"},".\n\u251c\u2500\u2500 icons\n\u2502   \u251c\u2500\u2500 favicon.svg\n\u2502   \u251c\u2500\u2500 logo-1.svg\n\u2502   \u251c\u2500\u2500 logo-2.svg\n\u2502   \u251c\u2500\u2500 logo-3.svg\n\u2502   \u251c\u2500\u2500 logo-4.svg\n\u2502   \u251c\u2500\u2500 logo-5.svg\n\u2502   \u2514\u2500\u2500 logo.svg\n\u2514\u2500\u2500 imgs\n    \u251c\u2500\u2500 background.png\n    \u2514\u2500\u2500 vite.png\n")),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u5728 Header \u7ec4\u4ef6\u4e2d\u5f15\u5165 ",(0,p.kt)("inlineCode",{parentName:"p"},"vite.png"),"\u8fd9\u5f20\u56fe\u7247:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// Header/index.tsx\nimport React, { useEffect } from 'react';\nimport { devDependencies } from '../../../package.json';\nimport styles from './index.module.scss';\n// 1. \u5bfc\u5165\u56fe\u7247\nimport logoSrc from '@assets/imgs/vite.png';\n\n// \u65b9\u5f0f\u4e00\nexport function Header() {\n  return (\n    <div className={`p-20px text-center ${styles.header}`}>\n      \x3c!-- \u7701\u7565\u524d\u9762\u7684\u7ec4\u4ef6\u5185\u5bb9 --\x3e\n      \x3c!-- \u4f7f\u7528\u56fe\u7247 --\x3e\n      <img className=\"m-auto mb-4\" src={logoSrc} alt=\"\" />\n    </div>\n  );\n}\n\n// \u65b9\u5f0f\u4e8c\nexport function Header() {\n  useEffect(() => {\n    const img = document.getElementById('logo') as HTMLImageElement;\n    img.src = logoSrc;\n  }, []);\n  return (\n    <div className={`p-20px text-center ${styles.header}`}>\n      \x3c!-- \u7701\u7565\u524d\u9762\u7684\u7ec4\u4ef6\u5185\u5bb9 --\x3e\n      \x3c!-- \u4f7f\u7528\u56fe\u7247 --\x3e\n      <img id=\"logo\" className=\"m-auto mb-4\" alt=\"\" />\n    </div>\n  );\n}\n")),(0,p.kt)("p",null,"\u53ef\u4ee5\u53d1\u73b0\u56fe\u7247\u80fd\u591f\u6b63\u5e38\u663e\u793a:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66e4e71a894d4cb4ab8b6e5faca557a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u800c\u56fe\u7247\u8def\u5f84\u4e5f\u88ab\u89e3\u6790\u4e3a\u4e86\u6b63\u786e\u7684\u683c\u5f0f(",(0,p.kt)("inlineCode",{parentName:"p"},"/"),"\u8868\u793a\u9879\u76ee\u6839\u8def\u5f84):"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e338e4912cf04f03a796a16dd6f3268c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"OK\uff0c\u73b0\u5728\u8ba9\u6211\u4eec\u8fdb\u5165 Header \u7ec4\u4ef6\u7684\u6837\u5f0f\u6587\u4ef6\u4e2d\u6dfb\u52a0",(0,p.kt)("inlineCode",{parentName:"p"},"background"),"\u5c5e\u6027:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-scss"},".header {\n  // \u524d\u9762\u7684\u6837\u5f0f\u4ee3\u7801\u7701\u7565\n  background: url('@assets/imgs/background.png') no-repeat;\n}\n")),(0,p.kt)("p",null,"\u518d\u6b21\u56de\u5230\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u770b\u5230\u751f\u6548\u540e\u7684\u80cc\u666f\u5982\u4e0b:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dac9bddf83e345fc8369e6ae821d83f2~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("h3",{id:"3-svg-\u7ec4\u4ef6\u65b9\u5f0f\u52a0\u8f7d"},"3. SVG \u7ec4\u4ef6\u65b9\u5f0f\u52a0\u8f7d"),(0,p.kt)("p",null,"\u521a\u624d\u6211\u4eec\u6210\u529f\u5730\u5728 Vite \u4e2d\u5b9e\u73b0\u4e86\u56fe\u7247\u7684\u52a0\u8f7d\uff0c\u4e0a\u8ff0\u8fd9\u4e9b\u52a0\u8f7d\u7684\u65b9\u5f0f\u5bf9\u4e8e svg \u683c\u5f0f\u6765\u8bf4\u4f9d\u7136\u662f\u9002\u7528\u7684\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u901a\u5e38\u4e5f\u5e0c\u671b\u80fd\u5c06 svg \u5f53\u505a\u4e00\u4e2a\u7ec4\u4ef6\u6765\u5f15\u5165\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u4fee\u6539 svg \u7684\u5404\u79cd\u5c5e\u6027\uff0c\u800c\u4e14\u6bd4 img \u6807\u7b7e\u7684\u5f15\u5165\u65b9\u5f0f\u66f4\u52a0\u4f18\u96c5\u3002"),(0,p.kt)("p",null,"SVG \u7ec4\u4ef6\u52a0\u8f7d\u5728\u4e0d\u540c\u7684\u524d\u7aef\u6846\u67b6\u4e2d\u7684\u5b9e\u73b0\u4e0d\u592a\u76f8\u540c\uff0c\u793e\u533a\u4e2d\u4e5f\u5df2\u7ecf\u4e86\u6709\u4e86\u5bf9\u5e94\u7684\u63d2\u4ef6\u652f\u6301:"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"Vue2 \u9879\u76ee\u4e2d\u53ef\u4ee5\u4f7f\u7528 ",(0,p.kt)("a",{parentName:"li",href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpakholeung37%2Fvite-plugin-vue2-svg"},"vite-plugin-vue2-svg"),"\u63d2\u4ef6\u3002"),(0,p.kt)("li",{parentName:"ul"},"Vue3 \u9879\u76ee\u4e2d\u53ef\u4ee5\u5f15\u5165 ",(0,p.kt)("a",{parentName:"li",href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fjpkleemans%2Fvite-svg-loader"},"vite-svg-loader"),"\u3002"),(0,p.kt)("li",{parentName:"ul"},"React \u9879\u76ee\u4f7f\u7528 ",(0,p.kt)("a",{parentName:"li",href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fpd4d10%2Fvite-plugin-svgr"},"vite-plugin-svgr"),"\u63d2\u4ef6\u3002")),(0,p.kt)("p",null,"\u73b0\u5728\u8ba9\u6211\u4eec\u5728 React \u811a\u624b\u67b6\u9879\u76ee\u4e2d\u5b89\u88c5\u5bf9\u5e94\u7684\u4f9d\u8d56:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"pnpm i vite-plugin-svgr -D\n")),(0,p.kt)("p",null,"\u7136\u540e\u9700\u8981\u5728 vite \u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u8fd9\u4e2a\u63d2\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// vite.config.ts\nimport svgr from 'vite-plugin-svgr';\n\n{\n  plugins: [\n    // \u5176\u5b83\u63d2\u4ef6\u7701\u7565\n    svgr()\n  ]\n}\n")),(0,p.kt)("p",null,"\u968f\u540e\u6ce8\u610f\u8981\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"tsconfig.json")," \u6dfb\u52a0\u5982\u4e0b\u914d\u7f6e\uff0c\u5426\u5219\u4f1a\u6709\u7c7b\u578b\u9519\u8bef:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "compilerOptions": {\n    // \u7701\u7565\u5176\u5b83\u914d\u7f6e\n    "types": ["vite-plugin-svgr/client"]\n  }\n}\n')),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\u8ba9\u6211\u4eec\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 svg \u7ec4\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"import { ReactComponent as ReactLogo } from '@assets/icons/logo.svg';\n\nexport function Header() {\n  return (\n    // \u5176\u4ed6\u7ec4\u4ef6\u5185\u5bb9\u7701\u7565\n     <ReactLogo />\n  )\n}\n")),(0,p.kt)("p",null,"\u56de\u5230\u6d4f\u89c8\u5668\u4e2d\uff0c\u4f60\u53ef\u4ee5\u770b\u5230 svg \u5df2\u7ecf\u6210\u529f\u6e32\u67d3:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/795c22c495e74aebb7deea37e36e48ea~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("h2",{id:"json-\u52a0\u8f7d"},"JSON \u52a0\u8f7d"),(0,p.kt)("p",null,"Vite \u4e2d\u5df2\u7ecf\u5185\u7f6e\u4e86\u5bf9\u4e8e JSON \u6587\u4ef6\u7684\u89e3\u6790\uff0c\u5e95\u5c42\u4f7f\u7528",(0,p.kt)("inlineCode",{parentName:"p"},"@rollup/pluginutils")," \u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},"dataToEsm")," \u65b9\u6cd5\u5c06 JSON \u5bf9\u8c61\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5305\u542b\u5404\u79cd\u5177\u540d\u5bfc\u51fa\u7684 ES \u6a21\u5757\uff0c\u4f7f\u7528\u59ff\u52bf\u5982\u4e0b:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"import { version } from '../../../package.json';\n")),(0,p.kt)("p",null,"\u4e0d\u8fc7\u4f60\u4e5f\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u7981\u7528\u6309\u540d\u5bfc\u5165\u7684\u65b9\u5f0f:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// vite.config.ts\n\n{\n  json: {\n    stringify: true\n  }\n}\n")),(0,p.kt)("p",null,"\u8fd9\u6837\u4f1a\u5c06 JSON \u7684\u5185\u5bb9\u89e3\u6790\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},'export default JSON.parse("xxx")'),"\uff0c\u8fd9\u6837\u4f1a\u5931\u53bb",(0,p.kt)("inlineCode",{parentName:"p"},"\u6309\u540d\u5bfc\u51fa"),"\u7684\u80fd\u529b\uff0c\u4e0d\u8fc7\u5728 JSON \u6570\u636e\u91cf\u6bd4\u8f83\u5927\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f18\u5316\u89e3\u6790\u6027\u80fd\u3002"),(0,p.kt)("h2",{id:"web-worker-\u811a\u672c"},"Web Worker \u811a\u672c"),(0,p.kt)("p",null,"Vite \u4e2d\u4f7f\u7528 Web Worker \u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u65b0\u5efa",(0,p.kt)("inlineCode",{parentName:"p"},"Header/example.js"),"\u6587\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-js"},"const start = () => {\n  let count = 0;\n  setInterval(() => {\n    // \u7ed9\u4e3b\u7ebf\u7a0b\u4f20\u503c\n    postMessage(++count);\n  }, 2000);\n};\n\nstart();\n")),(0,p.kt)("p",null,"\u7136\u540e\u5728 Header \u7ec4\u4ef6\u4e2d\u5f15\u5165\uff0c\u5f15\u5165\u7684\u65f6\u5019\u6ce8\u610f\u52a0\u4e0a",(0,p.kt)("inlineCode",{parentName:"p"},"?worker"),"\u540e\u7f00\uff0c\u76f8\u5f53\u4e8e\u544a\u8bc9 Vite \u8fd9\u662f\u4e00\u4e2a Web Worker \u811a\u672c\u6587\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"import Worker from './example.js?worker';\n// 1. \u521d\u59cb\u5316 Worker \u5b9e\u4f8b\nconst worker = new Worker();\n// 2. \u4e3b\u7ebf\u7a0b\u76d1\u542c worker \u7684\u4fe1\u606f\nworker.addEventListener('message', (e) => {\n  console.log(e);\n});\n")),(0,p.kt)("p",null,"\u6253\u5f00\u6d4f\u89c8\u5668\u7684\u63a7\u5236\u9762\u677f\uff0c\u4f60\u53ef\u4ee5\u770b\u5230 Worker \u4f20\u7ed9\u4e3b\u7ebf\u7a0b\u7684\u4fe1\u606f\u5df2\u7ecf\u6210\u529f\u6253\u5370:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5fe5b95939c74d8cba5a43826eab31c9~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u8bf4\u660e Web Worker \u811a\u672c\u5df2\u7ecf\u6210\u529f\u6267\u884c\uff0c\u4e5f\u80fd\u4e0e\u4e3b\u7ebf\u7a0b\u6b63\u5e38\u901a\u4fe1\u3002"),(0,p.kt)("h3",{id:"web-assembly-\u6587\u4ef6"},"Web Assembly \u6587\u4ef6"),(0,p.kt)("p",null,"Vite \u5bf9\u4e8e ",(0,p.kt)("inlineCode",{parentName:"p"},".wasm")," \u6587\u4ef6\u4e5f\u63d0\u4f9b\u4e86\u5f00\u7bb1\u5373\u7528\u7684\u652f\u6301\uff0c\u6211\u4eec\u62ff\u4e00\u4e2a\u6590\u6ce2\u62c9\u5951\u7684 ",(0,p.kt)("inlineCode",{parentName:"p"},".wasm")," \u6587\u4ef6(\u539f\u6587\u4ef6\u5df2\u7ecf\u653e\u5230",(0,p.kt)("a",{parentName:"p",href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fsanyuan0704%2Fjuejin-book-vite%2Ftree%2Fmain%2F4~7-vite-project-framework%2Fsrc%2Fcomponents%2FHeader"},"Github \u4ed3\u5e93"),"\u4e2d)\u6765\u8fdb\u884c\u4e00\u4e0b\u5b9e\u9645\u64cd\u4f5c\uff0c\u5bf9\u5e94\u7684 JavaScript \u539f\u6587\u4ef6\u5982\u4e0b:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"export function fib(n) {\n  var a = 0,\n    b = 1;\n  if (n > 0) {\n    while (--n) {\n      let t = a + b;\n      a = b;\n      b = t;\n    }\n    return b;\n  }\n  return a;\n}\n")),(0,p.kt)("p",null,"\u8ba9\u6211\u4eec\u5728\u7ec4\u4ef6\u4e2d\u5bfc\u5165",(0,p.kt)("inlineCode",{parentName:"p"},"fib.wasm"),"\u6587\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// Header/index.tsx\nimport init from './fib.wasm';\n\ntype FibFunc = (num: number) => number;\n\ninit({}).then((exports) => {\n  const fibFunc = exports.fib as FibFunc;\n  console.log('Fib result:', fibFunc(10));\n});\n")),(0,p.kt)("p",null,"Vite \u4f1a\u5bf9",(0,p.kt)("inlineCode",{parentName:"p"},".wasm"),"\u6587\u4ef6\u7684\u5185\u5bb9\u8fdb\u884c\u5c01\u88c5\uff0c\u9ed8\u8ba4\u5bfc\u51fa\u4e3a init \u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a Promise\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5728\u5176 then \u65b9\u6cd5\u4e2d\u62ff\u5230\u5176\u5bfc\u51fa\u7684\u6210\u5458\u2014\u2014",(0,p.kt)("inlineCode",{parentName:"p"},"fib"),"\u65b9\u6cd5\u3002"),(0,p.kt)("p",null,"\u56de\u5230\u6d4f\u89c8\u5668\uff0c\u6211\u4eec\u53ef\u4ee5\u67e5\u770b\u5230\u8ba1\u7b97\u7ed3\u679c\uff0c\u8bf4\u660e .wasm \u6587\u4ef6\u5df2\u7ecf\u88ab\u6210\u529f\u6267\u884c:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7478ef95b7a847fca740218262b411cd~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("h3",{id:"\u5176\u5b83\u9759\u6001\u8d44\u6e90"},"\u5176\u5b83\u9759\u6001\u8d44\u6e90"),(0,p.kt)("p",null,"\u9664\u4e86\u4e0a\u8ff0\u7684\u4e00\u4e9b\u8d44\u6e90\u683c\u5f0f\uff0cVite \u4e5f\u5bf9\u4e0b\u9762\u51e0\u7c7b\u683c\u5f0f\u63d0\u4f9b\u4e86\u5185\u7f6e\u7684\u652f\u6301:"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u5a92\u4f53\u7c7b\u6587\u4ef6\uff0c\u5305\u62ec",(0,p.kt)("inlineCode",{parentName:"li"},"mp4"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"webm"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"ogg"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"mp3"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"wav"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"flac"),"\u548c",(0,p.kt)("inlineCode",{parentName:"li"},"aac"),"\u3002"),(0,p.kt)("li",{parentName:"ul"},"\u5b57\u4f53\u7c7b\u6587\u4ef6\u3002\u5305\u62ec",(0,p.kt)("inlineCode",{parentName:"li"},"woff"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"woff2"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"eot"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"ttf")," \u548c ",(0,p.kt)("inlineCode",{parentName:"li"},"otf"),"\u3002"),(0,p.kt)("li",{parentName:"ul"},"\u6587\u672c\u7c7b\u3002\u5305\u62ec",(0,p.kt)("inlineCode",{parentName:"li"},"webmanifest"),"\u3001",(0,p.kt)("inlineCode",{parentName:"li"},"pdf"),"\u548c",(0,p.kt)("inlineCode",{parentName:"li"},"txt"),"\u3002")),(0,p.kt)("p",null,"\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u53ef\u4ee5\u5728 Vite \u5c06\u8fd9\u4e9b\u7c7b\u578b\u7684\u6587\u4ef6\u5f53\u505a\u4e00\u4e2a ES \u6a21\u5757\u6765\u5bfc\u5165\u4f7f\u7528\u3002\u5982\u679c\u4f60\u7684\u9879\u76ee\u4e2d\u8fd8\u5b58\u5728\u5176\u5b83\u683c\u5f0f\u7684\u9759\u6001\u8d44\u6e90\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"assetsInclude"),"\u914d\u7f6e\u8ba9 Vite \u6765\u652f\u6301\u52a0\u8f7d:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// vite.config.ts\n\n{\n  assetsInclude: ['.gltf']\n}\n")),(0,p.kt)("h3",{id:"\u7279\u6b8a\u8d44\u6e90\u540e\u7f00"},"\u7279\u6b8a\u8d44\u6e90\u540e\u7f00"),(0,p.kt)("p",null,"Vite \u4e2d\u5f15\u5165\u9759\u6001\u8d44\u6e90\u65f6\uff0c\u4e5f\u652f\u6301\u5728\u8def\u5f84\u6700\u540e\u52a0\u4e0a\u4e00\u4e9b\u7279\u6b8a\u7684 query \u540e\u7f00\uff0c\u5305\u62ec:"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"?url"),": \u8868\u793a\u83b7\u53d6\u8d44\u6e90\u7684\u8def\u5f84\uff0c\u8fd9\u5728\u53ea\u60f3\u83b7\u53d6\u6587\u4ef6\u8def\u5f84\u800c\u4e0d\u662f\u5185\u5bb9\u7684\u573a\u666f\u5c06\u4f1a\u5f88\u6709\u7528\u3002"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"?raw"),": \u8868\u793a\u83b7\u53d6\u8d44\u6e90\u7684\u5b57\u7b26\u4e32\u5185\u5bb9\uff0c\u5982\u679c\u4f60\u53ea\u60f3\u62ff\u5230\u8d44\u6e90\u7684\u539f\u59cb\u5185\u5bb9\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u540e\u7f00\u3002"),(0,p.kt)("li",{parentName:"ul"},(0,p.kt)("inlineCode",{parentName:"li"},"?inline"),": \u8868\u793a\u8d44\u6e90\u5f3a\u5236\u5185\u8054\uff0c\u800c\u4e0d\u662f\u6253\u5305\u6210\u5355\u72ec\u7684\u6587\u4ef6\u3002")),(0,p.kt)("h2",{id:"\u751f\u4ea7\u73af\u5883\u5904\u7406"},"\u751f\u4ea7\u73af\u5883\u5904\u7406"),(0,p.kt)("p",null,"\u5728\u524d\u9762\u7684\u5185\u5bb9\u4e2d\uff0c\u6211\u4eec\u56f4\u7ed5\u7740\u5982\u4f55\u52a0\u8f7d\u9759\u6001\u8d44\u6e90\u8fd9\u4e2a\u95ee\u9898\uff0c\u5728 Vite \u4e2d\u8fdb\u884c\u5177\u4f53\u7684\u7f16\u7801\u5b9e\u8df5\uff0c\u76f8\u4fe1\u5bf9\u4e8e Vite \u4e2d\u5404\u79cd\u9759\u6001\u8d44\u6e90\u7684\u4f7f\u7528\u4f60\u5df2\u7ecf\u6bd4\u8f83\u719f\u6089\u4e86\u3002\u4f46\u53e6\u4e00\u65b9\u9762\uff0c\u5728\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u6211\u4eec\u53c8\u9762\u4e34\u7740\u4e00\u4e9b\u65b0\u7684\u95ee\u9898\u3002"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u90e8\u7f72\u57df\u540d\u600e\u4e48\u914d\u7f6e\uff1f"),(0,p.kt)("li",{parentName:"ul"},"\u8d44\u6e90\u6253\u5305\u6210\u5355\u6587\u4ef6\u8fd8\u662f\u4f5c\u4e3a Base64 \u683c\u5f0f\u5185\u8054?"),(0,p.kt)("li",{parentName:"ul"},"\u56fe\u7247\u592a\u5927\u4e86\u600e\u4e48\u538b\u7f29\uff1f"),(0,p.kt)("li",{parentName:"ul"},"svg \u8bf7\u6c42\u6570\u91cf\u592a\u591a\u4e86\u600e\u4e48\u4f18\u5316\uff1f")),(0,p.kt)("h3",{id:"1-\u81ea\u5b9a\u4e49\u90e8\u7f72\u57df\u540d"},"1. \u81ea\u5b9a\u4e49\u90e8\u7f72\u57df\u540d"),(0,p.kt)("p",null,"\u4e00\u822c\u5728\u6211\u4eec\u8bbf\u95ee\u7ebf\u4e0a\u7684\u7ad9\u70b9\u65f6\uff0c\u7ad9\u70b9\u91cc\u9762\u4e00\u4e9b\u9759\u6001\u8d44\u6e90\u7684\u5730\u5740\u90fd\u5305\u542b\u4e86\u76f8\u5e94\u57df\u540d\u7684\u524d\u7f00\uff0c\u5982:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-html"},'<img src="https://sanyuan.cos.ap-beijing.myqcloud.com/logo.png" />\n')),(0,p.kt)("p",null,"\u4ee5\u4e0a\u9762\u8fd9\u4e2a\u5730\u5740\u4f8b\u5b50\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"https://sanyuan.cos.ap-beijing.myqcloud.com"),"\u662f CDN \u5730\u5740\u524d\u7f00\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"/logo.png"),"\u5219\u662f\u6211\u4eec\u5f00\u53d1\u9636\u6bb5\u4f7f\u7528\u7684\u8def\u5f84\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u662f\u4e0d\u662f\u9700\u8981\u5728\u4e0a\u7ebf\u524d\u628a\u56fe\u7247\u5148\u4e0a\u4f20\u5230 CDN\uff0c\u7136\u540e\u5c06\u4ee3\u7801\u4e2d\u7684\u5730\u5740\u624b\u52a8\u66ff\u6362\u6210\u7ebf\u4e0a\u5730\u5740\u5462\uff1f\u8fd9\u6837\u5c31\u592a\u9ebb\u70e6\u4e86\uff01"),(0,p.kt)("p",null,"\u5728 Vite \u4e2d\u6211\u4eec\u53ef\u4ee5\u6709\u66f4\u52a0\u81ea\u52a8\u5316\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u5730\u5740\u7684\u66ff\u6362\uff0c\u53ea\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a",(0,p.kt)("inlineCode",{parentName:"p"},"base"),"\u53c2\u6570\u5373\u53ef:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// vite.config.ts\n// \u662f\u5426\u4e3a\u751f\u4ea7\u73af\u5883\uff0c\u5728\u751f\u4ea7\u73af\u5883\u4e00\u822c\u4f1a\u6ce8\u5165 NODE_ENV \u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u89c1\u4e0b\u9762\u7684\u73af\u5883\u53d8\u91cf\u6587\u4ef6\u914d\u7f6e\nconst isProduction = process.env.NODE_ENV === 'production';\n// \u586b\u5165\u9879\u76ee\u7684 CDN \u57df\u540d\u5730\u5740\nconst CDN_URL = 'xxxxxx';\n\n// \u5177\u4f53\u914d\u7f6e\n{\n  base: isProduction ? CDN_URL: '/'\n}\n\n// .env.development\nNODE_ENV=development\n\n// .env.production\nNODE_ENV=production\n")),(0,p.kt)("p",null,"\u6ce8\u610f\u5728\u9879\u76ee\u6839\u76ee\u5f55\u65b0\u589e\u7684\u4e24\u4e2a\u73af\u5883\u53d8\u91cf\u6587\u4ef6",(0,p.kt)("inlineCode",{parentName:"p"},".env.development"),"\u548c",(0,p.kt)("inlineCode",{parentName:"p"},".env.production"),"\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5373\u5206\u522b\u5728\u5f00\u53d1\u73af\u5883\u548c\u751f\u4ea7\u73af\u5883\u6ce8\u5165\u4e00\u4e9b\u73af\u5883\u53d8\u91cf\uff0c\u8fd9\u91cc\u4e3a\u4e86\u533a\u5206\u4e0d\u540c\u73af\u5883\u6211\u4eec\u52a0\u4e0a\u4e86",(0,p.kt)("inlineCode",{parentName:"p"},"NODE_ENV"),"\uff0c\u4f60\u4e5f\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6dfb\u52a0\u522b\u7684\u73af\u5883\u53d8\u91cf\u3002"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"\u6253\u5305\u7684\u65f6\u5019 Vite \u4f1a\u81ea\u52a8\u5c06\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u66ff\u6362\u4e3a\u76f8\u5e94\u7684\u5b57\u7b26\u4e32\u3002")),(0,p.kt)("p",null,"\u63a5\u7740\u6267\u884c",(0,p.kt)("inlineCode",{parentName:"p"},"pnpm run build"),"\uff0c\u53ef\u4ee5\u53d1\u73b0\u4ea7\u7269\u4e2d\u7684\u9759\u6001\u8d44\u6e90\u5730\u5740\u5df2\u7ecf\u81ea\u52a8\u52a0\u4e0a\u4e86 CDN \u5730\u5740\u524d\u7f00:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d910210d0b5484d8ebc4407b732b140~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u5f53\u7136\uff0cHTML \u4e2d\u7684\u4e00\u4e9b JS\u3001CSS \u8d44\u6e90\u94fe\u63a5\u4e5f\u4e00\u8d77\u52a0\u4e0a\u4e86 CDN \u5730\u5740\u524d\u7f00:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/15adeface82d4320b330b440c049f3ab~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u5f53\u7136\uff0c\u6709\u65f6\u5019\u53ef\u80fd\u9879\u76ee\u4e2d\u7684\u67d0\u4e9b\u56fe\u7247\u9700\u8981\u5b58\u653e\u5230\u53e6\u5916\u7684\u5b58\u50a8\u670d\u52a1\uff0c\u4e00\u79cd\u76f4\u63a5\u7684\u65b9\u6848\u662f\u5c06\u5b8c\u6574\u5730\u5740\u5199\u6b7b\u5230 src \u5c5e\u6027\u4e2d\uff0c\u5982:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},'<img src="https://my-image-cdn.com/logo.png">\n')),(0,p.kt)("p",null,"\u8fd9\u6837\u505a\u663e\u7136\u662f\u4e0d\u592a\u4f18\u96c5\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u65b0\u589e",(0,p.kt)("inlineCode",{parentName:"p"},".env"),"\u6587\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// \u5f00\u53d1\u73af\u5883\u4f18\u5148\u7ea7: .env.development > .env\n// \u751f\u4ea7\u73af\u5883\u4f18\u5148\u7ea7: .env.production > .env\n// .env \u6587\u4ef6\nVITE_IMG_BASE_URL=https://my-image-cdn.com\n")),(0,p.kt)("p",null,"\u7136\u540e\u8fdb\u5165 ",(0,p.kt)("inlineCode",{parentName:"p"},"src/vite-env.d.ts"),"\u589e\u52a0\u7c7b\u578b\u58f0\u660e:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},'/// <reference types="vite/client" />\n\ninterface ImportMetaEnv {\n  readonly VITE_APP_TITLE: string;\n  // \u81ea\u5b9a\u4e49\u7684\u73af\u5883\u53d8\u91cf\n  readonly VITE_IMG_BASE_URL: string;\n}\n\ninterface ImportMeta {\n  readonly env: ImportMetaEnv;\n}\n')),(0,p.kt)("p",null,"\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u67d0\u4e2a\u73af\u5883\u53d8\u91cf\u8981\u5728 Vite \u4e2d\u901a\u8fc7 ",(0,p.kt)("inlineCode",{parentName:"p"},"import.meta.env")," \u8bbf\u95ee\uff0c\u90a3\u4e48\u5b83\u5fc5\u987b\u4ee5",(0,p.kt)("inlineCode",{parentName:"p"},"VITE_"),"\u5f00\u5934\uff0c\u5982",(0,p.kt)("inlineCode",{parentName:"p"},"VITE_IMG_BASE_URL"),"\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5728\u7ec4\u4ef6\u4e2d\u6765\u4f7f\u7528\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-html"},"<img src={new URL('./logo.png', import.meta.env.VITE_IMG_BASE_URL).href} />\n")),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"\u5f00\u53d1\u73af\u5883"),"\u542f\u52a8\u9879\u76ee\u6216\u8005",(0,p.kt)("inlineCode",{parentName:"p"},"\u751f\u4ea7\u73af\u5883"),"\u6253\u5305\u540e\u53ef\u4ee5\u770b\u5230\u73af\u5883\u53d8\u91cf\u5df2\u7ecf\u88ab\u66ff\u6362\uff0c\u5730\u5740\u80fd\u591f\u6b63\u5e38\u663e\u793a:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/40484ed4df404b87b40b104cf2b9fdee~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b6c4637475bb49818c9c5dd09001bb66~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u81f3\u6b64\uff0c\u6211\u4eec\u5c31\u5f7b\u5e95\u89e3\u51b3\u4e86\u56fe\u7247\u8d44\u6e90\u751f\u4ea7\u73af\u5883\u57df\u540d\u66ff\u6362\u7684\u95ee\u9898\u3002"),(0,p.kt)("h3",{id:"2-\u5355\u6587\u4ef6-or-\u5185\u8054"},"2. \u5355\u6587\u4ef6 or \u5185\u8054\uff1f"),(0,p.kt)("p",null,"\u5728 Vite \u4e2d\uff0c\u6240\u6709\u7684\u9759\u6001\u8d44\u6e90\u90fd\u6709\u4e24\u79cd\u6784\u5efa\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u6253\u5305\u6210\u4e00\u4e2a\u5355\u6587\u4ef6\uff0c\u53e6\u4e00\u79cd\u662f\u901a\u8fc7 base64 \u7f16\u7801\u7684\u683c\u5f0f\u5185\u5d4c\u5230\u4ee3\u7801\u4e2d\u3002"),(0,p.kt)("p",null,"\u8fd9\u4e24\u79cd\u65b9\u6848\u5230\u5e95\u5e94\u8be5\u5982\u4f55\u6765\u9009\u62e9\u5462\uff1f"),(0,p.kt)("p",null,"\u5bf9\u4e8e\u6bd4\u8f83\u5c0f\u7684\u8d44\u6e90\uff0c\u9002\u5408\u5185\u8054\u5230\u4ee3\u7801\u4e2d\uff0c\u4e00\u65b9\u9762\u5bf9",(0,p.kt)("inlineCode",{parentName:"p"},"\u4ee3\u7801\u4f53\u79ef"),"\u7684\u5f71\u54cd\u5f88\u5c0f\uff0c\u53e6\u4e00\u65b9\u9762\u53ef\u4ee5\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u7f51\u7edc\u8bf7\u6c42\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"\u4f18\u5316\u7f51\u7edc\u6027\u80fd"),"\u3002\u800c\u5bf9\u4e8e\u6bd4\u8f83\u5927\u7684\u8d44\u6e90\uff0c\u5c31\u63a8\u8350\u5355\u72ec\u6253\u5305\u6210\u4e00\u4e2a\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u5185\u8054\u4e86\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u4e0a MB \u7684 base64 \u5b57\u7b26\u4e32\u5185\u5d4c\u5230\u4ee3\u7801\u4e2d\uff0c\u5bfc\u81f4\u4ee3\u7801\u4f53\u79ef\u77ac\u95f4\u5e9e\u5927\uff0c\u9875\u9762\u52a0\u8f7d\u6027\u80fd\u76f4\u7ebf\u4e0b\u964d\u3002"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0fb28454267d473aa02e8e0e486f2e9e~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"Vite \u4e2d\u5185\u7f6e\u7684\u4f18\u5316\u65b9\u6848\u662f\u4e0b\u9762\u8fd9\u6837\u7684:"),(0,p.kt)("ul",null,(0,p.kt)("li",{parentName:"ul"},"\u5982\u679c\u9759\u6001\u8d44\u6e90\u4f53\u79ef >= 4KB\uff0c\u5219\u63d0\u53d6\u6210\u5355\u72ec\u7684\u6587\u4ef6"),(0,p.kt)("li",{parentName:"ul"},"\u5982\u679c\u9759\u6001\u8d44\u6e90\u4f53\u79ef < 4KB\uff0c\u5219\u4f5c\u4e3a base64 \u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u5185\u8054")),(0,p.kt)("p",null,"\u4e0a\u8ff0\u7684",(0,p.kt)("inlineCode",{parentName:"p"},"4 KB"),"\u5373\u4e3a\u63d0\u53d6\u6210\u5355\u6587\u4ef6\u7684\u4e34\u754c\u503c\uff0c\u5f53\u7136\uff0c\u8fd9\u4e2a\u4e34\u754c\u503c\u4f60\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"build.assetsInlineLimit"),"\u81ea\u884c\u914d\u7f6e\uff0c\u5982\u4e0b\u4ee3\u7801\u6240\u793a:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// vite.config.ts\n{\n  build: {\n    // 8 KB\n    assetsInlineLimit: 8 * 1024\n  }\n}\n")),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"svg \u683c\u5f0f\u7684\u6587\u4ef6\u4e0d\u53d7\u8fd9\u4e2a\u4e34\u65f6\u503c\u7684\u5f71\u54cd\uff0c\u59cb\u7ec8\u4f1a\u6253\u5305\u6210\u5355\u72ec\u7684\u6587\u4ef6\uff0c\u56e0\u4e3a\u5b83\u548c\u666e\u901a\u683c\u5f0f\u7684\u56fe\u7247\u4e0d\u4e00\u6837\uff0c\u9700\u8981\u52a8\u6001\u8bbe\u7f6e\u4e00\u4e9b\u5c5e\u6027")),(0,p.kt)("h3",{id:"3-\u56fe\u7247\u538b\u7f29"},"3. \u56fe\u7247\u538b\u7f29"),(0,p.kt)("p",null,"\u56fe\u7247\u8d44\u6e90\u7684\u4f53\u79ef\u5f80\u5f80\u662f\u9879\u76ee\u4ea7\u7269\u4f53\u79ef\u7684\u5927\u5934\uff0c\u5982\u679c\u80fd\u5c3d\u53ef\u80fd\u7cbe\u7b80\u56fe\u7247\u7684\u4f53\u79ef\uff0c\u90a3\u4e48\u5bf9\u9879\u76ee\u6574\u4f53\u6253\u5305\u4ea7\u7269\u4f53\u79ef\u7684\u4f18\u5316\u5c06\u4f1a\u662f\u975e\u5e38\u660e\u663e\u7684\u3002\u5728 JavaScript \u9886\u57df\u6709\u4e00\u4e2a\u975e\u5e38\u77e5\u540d\u7684\u56fe\u7247\u538b\u7f29\u5e93",(0,p.kt)("a",{parentName:"p",href:"https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fimagemin"},"imagemin"),"\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u5e95\u5c42\u7684\u538b\u7f29\u5de5\u5177\uff0c\u524d\u7aef\u7684\u9879\u76ee\u4e2d\u7ecf\u5e38\u57fa\u4e8e\u5b83\u6765\u8fdb\u884c\u56fe\u7247\u538b\u7f29\uff0c\u6bd4\u5982 Webpack \u4e2d\u5927\u540d\u9f0e\u9f0e\u7684",(0,p.kt)("inlineCode",{parentName:"p"},"image-webpack-loader"),"\u3002\u793e\u533a\u5f53\u4e2d\u4e5f\u5df2\u7ecf\u6709\u4e86\u5f00\u7bb1\u5373\u7528\u7684 Vite \u63d2\u4ef6\u2014\u2014",(0,p.kt)("inlineCode",{parentName:"p"},"vite-plugin-imagemin"),"\uff0c\u9996\u5148\u8ba9\u6211\u4eec\u6765\u5b89\u88c5\u5b83:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"pnpm i vite-plugin-imagemin -D\n")),(0,p.kt)("p",null,"\u968f\u540e\u5728 Vite \u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u5165:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"//vite.config.ts\nimport viteImagemin from 'vite-plugin-imagemin';\n\n{\n  plugins: [\n    // \u5ffd\u7565\u524d\u9762\u7684\u63d2\u4ef6\n    viteImagemin({\n      // \u65e0\u635f\u538b\u7f29\u914d\u7f6e\uff0c\u65e0\u635f\u538b\u7f29\u4e0b\u56fe\u7247\u8d28\u91cf\u4e0d\u4f1a\u53d8\u5dee\n      optipng: {\n        optimizationLevel: 7\n      },\n      // \u6709\u635f\u538b\u7f29\u914d\u7f6e\uff0c\u6709\u635f\u538b\u7f29\u4e0b\u56fe\u7247\u8d28\u91cf\u53ef\u80fd\u4f1a\u53d8\u5dee\n      pngquant: {\n        quality: [0.8, 0.9],\n      },\n      // svg \u4f18\u5316\n      svgo: {\n        plugins: [\n          {\n            name: 'removeViewBox'\n          },\n          {\n            name: 'removeEmptyAttrs',\n            active: false\n          }\n        ]\n      }\n    })\n  ]\n}\n")),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u6267\u884c",(0,p.kt)("inlineCode",{parentName:"p"},"pnpm run build"),"\u8fdb\u884c\u6253\u5305:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7cd29e4dcbaa416985b9187b1786d37c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"Vite \u63d2\u4ef6\u5df2\u7ecf\u81ea\u52a8\u5e2e\u52a9\u6211\u4eec\u8c03\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"imagemin")," \u8fdb\u884c\u9879\u76ee\u56fe\u7247\u7684\u538b\u7f29\uff0c\u53ef\u4ee5\u770b\u5230\u538b\u7f29\u7684\u6548\u679c\u975e\u5e38\u660e\u663e\uff0c\u5f3a\u70c8\u63a8\u8350\u5927\u5bb6\u5728\u9879\u76ee\u4e2d\u4f7f\u7528\u3002"),(0,p.kt)("h3",{id:"4-\u96ea\u78a7\u56fe\u4f18\u5316"},"4. \u96ea\u78a7\u56fe\u4f18\u5316"),(0,p.kt)("p",null,"\u5728\u5b9e\u9645\u7684\u9879\u76ee\u4e2d\u6211\u4eec\u8fd8\u4f1a\u7ecf\u5e38\u7528\u5230\u5404\u79cd\u5404\u6837\u7684 svg \u56fe\u6807\uff0c\u867d\u7136 svg \u6587\u4ef6\u4e00\u822c\u4f53\u79ef\u4e0d\u5927\uff0c\u4f46 Vite \u4e2d\u5bf9\u4e8e svg \u6587\u4ef6\u4f1a\u59cb\u7ec8\u6253\u5305\u6210\u5355\u6587\u4ef6\uff0c\u5927\u91cf\u7684\u56fe\u6807\u5f15\u5165\u4e4b\u540e\u4f1a\u5bfc\u81f4\u7f51\u7edc\u8bf7\u6c42\u589e\u52a0\uff0c\u5927\u91cf\u7684 HTTP \u8bf7\u6c42\u4f1a\u5bfc\u81f4\u7f51\u7edc\u89e3\u6790\u8017\u65f6\u53d8\u957f\uff0c\u9875\u9762\u52a0\u8f7d\u6027\u80fd\u76f4\u63a5\u53d7\u5230\u5f71\u54cd\u3002\u8fd9\u4e2a\u95ee\u9898\u600e\u4e48\u89e3\u51b3\u5462\uff1f"),(0,p.kt)("blockquote",null,(0,p.kt)("p",{parentName:"blockquote"},"HTTP2 \u7684\u591a\u8def\u590d\u7528\u8bbe\u8ba1\u53ef\u4ee5\u89e3\u51b3\u5927\u91cf HTTP \u7684\u8bf7\u6c42\u5bfc\u81f4\u7684\u7f51\u7edc\u52a0\u8f7d\u6027\u80fd\u95ee\u9898\uff0c\u56e0\u6b64\u96ea\u78a7\u56fe\u6280\u672f\u5728 HTTP2 \u5e76\u6ca1\u6709\u660e\u663e\u7684\u4f18\u5316\u6548\u679c\uff0c\u8fd9\u4e2a\u6280\u672f\u66f4\u9002\u5408\u5728\u4f20\u7edf\u7684 HTTP 1.1 \u573a\u666f\u4e0b\u4f7f\u7528(\u6bd4\u5982\u672c\u5730\u7684 Dev Server)\u3002")),(0,p.kt)("p",null,"\u6bd4\u5982\u5728 Header \u4e2d\u5206\u522b\u5f15\u5165 5 \u4e2a svg \u6587\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"import Logo1 from '@assets/icons/logo-1.svg';\nimport Logo2 from '@assets/icons/logo-2.svg';\nimport Logo3 from '@assets/icons/logo-3.svg';\nimport Logo4 from '@assets/icons/logo-4.svg';\nimport Logo5 from '@assets/icons/logo-5.svg';\n")),(0,p.kt)("p",null,"\u8fd9\u91cc\u987a\u4fbf\u8bf4\u4e00\u53e5\uff0cVite \u4e2d\u63d0\u4f9b\u4e86",(0,p.kt)("inlineCode",{parentName:"p"},"import.meta.glob"),"\u7684\u8bed\u6cd5\u7cd6\u6765\u89e3\u51b3\u8fd9\u79cd",(0,p.kt)("strong",{parentName:"p"},"\u6279\u91cf\u5bfc\u5165"),"\u7684\u95ee\u9898\uff0c\u5982\u4e0a\u8ff0\u7684 import \u8bed\u53e5\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"const icons = import.meta.glob('../../assets/icons/logo-*.svg');\n")),(0,p.kt)("p",null,"\u7ed3\u679c\u5982\u4e0b:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bb4489676ca341689048f9595a8f0fae~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\u5bf9\u8c61\u7684 value \u90fd\u662f\u52a8\u6001 import\uff0c\u9002\u5408\u6309\u9700\u52a0\u8f7d\u7684\u573a\u666f\u3002\u5728\u8fd9\u91cc\u6211\u4eec\u53ea\u9700\u8981\u540c\u6b65\u52a0\u8f7d\u5373\u53ef\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,p.kt)("inlineCode",{parentName:"p"},"import.meta.globEager"),"\u6765\u5b8c\u6210:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"const icons = import.meta.globEager('../../assets/icons/logo-*.svg');\n")),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"icons"),"\u7684\u7ed3\u679c\u6253\u5370\u5982\u4e0b: ",(0,p.kt)("img",{parentName:"p",src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/038367c43dad4c399e3d00597ae852e3~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u7a0d\u4f5c\u89e3\u6790\uff0c\u7136\u540e\u5c06 svg \u5e94\u7528\u5230\u7ec4\u4ef6\u5f53\u4e2d:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},'// Header/index.tsx\nconst iconUrls = Object.values(icons).map(mod => mod.default);\n\n// \u7ec4\u4ef6\u8fd4\u56de\u5185\u5bb9\u6dfb\u52a0\u5982\u4e0b\n{iconUrls.map((item) => (\n  <img src={item} key={item} width="50" alt="" />\n))}\n')),(0,p.kt)("p",null,"\u56de\u5230\u9875\u9762\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0\u6d4f\u89c8\u5668\u5206\u522b\u53d1\u51fa\u4e86 5 \u4e2a svg \u7684\u8bf7\u6c42:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3646903dde814c6c8cb7097b93f98667~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u5047\u8bbe\u9875\u9762\u6709 100 \u4e2a svg \u56fe\u6807\uff0c\u5c06\u4f1a\u591a\u51fa 100 \u4e2a HTTP \u8bf7\u6c42\uff0c\u4f9d\u6b64\u7c7b\u63a8\u3002\u6211\u4eec\u80fd\u4e0d\u80fd\u628a\u8fd9\u4e9b svg \u5408\u5e76\u5230\u4e00\u8d77\uff0c\u4ece\u800c\u5927\u5e45\u51cf\u5c11\u7f51\u7edc\u8bf7\u6c42\u5462\uff1f"),(0,p.kt)("p",null,"\u7b54\u6848\u662f\u53ef\u4ee5\u7684\u3002\u8fd9\u79cd\u5408\u5e76\u56fe\u6807\u7684\u65b9\u6848\u4e5f\u53eb",(0,p.kt)("inlineCode",{parentName:"p"},"\u96ea\u78a7\u56fe"),"\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"vite-plugin-svg-icons"),"\u6765\u5b9e\u73b0\u8fd9\u4e2a\u65b9\u6848\uff0c\u9996\u5148\u5b89\u88c5\u4e00\u4e0b\u8fd9\u4e2a\u63d2\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"pnpm i vite-plugin-svg-icons -D\n")),(0,p.kt)("p",null,"\u63a5\u7740\u5728 Vite \u914d\u7f6e\u6587\u4ef6\u4e2d\u589e\u52a0\u5982\u4e0b\u5185\u5bb9:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// vite.config.ts\nimport { createSvgIconsPlugin } from 'vite-plugin-svg-icons';\n\n{\n  plugins: [\n    // \u7701\u7565\u5176\u5b83\u63d2\u4ef6\n    createSvgIconsPlugin({\n      iconDirs: [path.join(__dirname, 'src/assets/icons')]\n    })\n  ]\n}\n")),(0,p.kt)("p",null,"\u5728 ",(0,p.kt)("inlineCode",{parentName:"p"},"src/components"),"\u76ee\u5f55\u4e0b\u65b0\u5efa",(0,p.kt)("inlineCode",{parentName:"p"},"SvgIcon"),"\u7ec4\u4ef6:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// SvgIcon/index.tsx\nexport interface SvgIconProps {\n  name?: string;\n  prefix: string;\n  color: string;\n  [key: string]: string;\n}\n\nexport default function SvgIcon({\n  name,\n  prefix = 'icon',\n  color = '#333',\n  ...props\n}: SvgIconProps) {\n  const symbolId = `#${prefix}-${name}`;\n\n  return (\n    <svg {...props} aria-hidden=\"true\">\n      <use href={symbolId} fill={color} />\n    </svg>\n  );\n}\n")),(0,p.kt)("p",null,"\u73b0\u5728\u6211\u4eec\u56de\u5230 Header \u7ec4\u4ef6\u4e2d\uff0c\u7a0d\u4f5c\u4fee\u6539:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"// index.tsx\nconst icons = import.meta.globEager('../../assets/icons/logo-*.svg');\nconst iconUrls = Object.values(icons).map((mod) => {\n  // \u5982 ../../assets/icons/logo-1.svg -> logo-1\n  const fileName = mod.default.split('/').pop();\n  const [svgName] = fileName.split('.');\n  return svgName;\n});\n\n// \u6e32\u67d3 svg \u7ec4\u4ef6\n{iconUrls.map((item) => (\n  <SvgIcon name={item} key={item} width=\"50\" height=\"50\" />\n))}\n")),(0,p.kt)("p",null,"\u6700\u540e\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"src/main.tsx"),"\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u884c\u4ee3\u7801:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-ts"},"import 'virtual:svg-icons-register';\n")),(0,p.kt)("p",null,"\u73b0\u5728\u56de\u5230\u6d4f\u89c8\u5668\u7684\u9875\u9762\u4e2d\uff0c\u53d1\u73b0\u96ea\u78a7\u56fe\u5df2\u7ecf\u751f\u6210:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/37cb9d4403594a35a1c8c999d536d80c~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u96ea\u78a7\u56fe\u5305\u542b\u4e86\u6240\u6709\u56fe\u6807\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u800c\u5bf9\u4e8e\u9875\u9762\u6bcf\u4e2a\u5177\u4f53\u7684\u56fe\u6807\uff0c\u5219\u901a\u8fc7 ",(0,p.kt)("inlineCode",{parentName:"p"},"use")," \u5c5e\u6027\u6765\u5f15\u7528\u96ea\u78a7\u56fe\u7684\u5bf9\u5e94\u5185\u5bb9:"),(0,p.kt)("p",null,(0,p.kt)("img",{parentName:"p",src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/17497a3a9abe40d2a5145bca8d2041f6~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp?",alt:"image.png"})),(0,p.kt)("p",null,"\u5982\u6b64\u4e00\u6765\uff0c\u6211\u4eec\u5c31\u80fd\u5c06\u6240\u6709\u7684 svg \u5185\u5bb9\u90fd\u5185\u8054\u5230 HTML \u4e2d\uff0c\u7701\u53bb\u4e86\u5927\u91cf svg \u7684\u7f51\u7edc\u8bf7\u6c42\u3002"),(0,p.kt)("h2",{id:"\u5c0f\u7ed3"},"\u5c0f\u7ed3"),(0,p.kt)("p",null,"\u606d\u559c\u4f60\uff0c\u5b66\u4e60\u5b8c\u4e86\u672c\u8282\u7684\u5185\u5bb9\u3002\u5728\u8fd9\u4e00\u8282\uff0c\u4f60\u9700\u8981\u91cd\u70b9\u638c\u63e1\u5728",(0,p.kt)("strong",{parentName:"p"},"Vite \u5982\u4f55\u52a0\u8f7d\u9759\u6001\u8d44\u6e90"),"\u548c",(0,p.kt)("strong",{parentName:"p"},"\u5982\u4f55\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u5bf9\u9759\u6001\u8d44\u6e90\u8fdb\u884c\u4f18\u5316"),"\u3002"),(0,p.kt)("p",null,"\u9996\u5148\u662f\u5982\u4f55\u52a0\u8f7d\u5404\u79cd\u9759\u6001\u8d44\u6e90\uff0c\u5982\u56fe\u7247\u3001svg(\u7ec4\u4ef6\u5f62\u5f0f)\u3001JSON\u3001Web Worker \u811a\u672c\u3001Web Asssembly \u6587\u4ef6\u7b49\u7b49\u683c\u5f0f\uff0c\u5e76\u901a\u8fc7\u4e00\u4e9b\u793a\u4f8b\u5e26\u5927\u5bb6\u8fdb\u884c\u5b9e\u9645\u7684\u64cd\u4f5c\u3002"),(0,p.kt)("p",null,"\u5176\u6b21\uff0c\u6211\u4eec\u4f1a\u628a\u5173\u6ce8\u70b9\u653e\u5230",(0,p.kt)("strong",{parentName:"p"},"\u751f\u4ea7\u73af\u5883"),"\uff0c\u5bf9",(0,p.kt)("inlineCode",{parentName:"p"},"\u81ea\u5b9a\u4e49\u90e8\u7f72\u57df\u540d"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"\u662f\u5426\u5e94\u8be5\u5185\u8054"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"\u56fe\u7247\u538b\u7f29"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"svg \u96ea\u78a7\u56fe"),"\u7b49\u95ee\u9898\u8fdb\u884c\u4e86\u8be6\u7ec6\u7684\u63a2\u8ba8\u548c\u5b9e\u8df5\uff0c\u5bf9\u4e8e\u5982\u4f55\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u76f8\u4fe1\u4f60\u4e5f\u6709\u4e86\u81ea\u5df1\u7684\u7b54\u6848\u3002"),(0,p.kt)("p",null,"\u5f53\u7136\uff0c\u5728\u7f16\u7801\u5b9e\u64cd\u7684\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u6211\u4e5f\u7ed9\u4f60\u7a7f\u63d2\u4e86\u4e00\u4e9b Vite \u5176\u4ed6\u7684\u77e5\u8bc6\u70b9\uff0c\u6bd4\u5982\u5982\u4f55",(0,p.kt)("inlineCode",{parentName:"p"},"\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u6587\u4ef6"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"\u5982\u4f55\u4f7f\u7528 Glob \u5bfc\u5165"),"\u7684\u8bed\u6cd5\u7cd6\u3002\u76f8\u4fe1\u5728\u5b66\u4e60\u672c\u8282\u7684\u8fc7\u7a0b\u4e2d\u4f60\u80fd\u66f4\u52a0\u4f53\u4f1a\u5230 Vite \u7ed9\u9879\u76ee\u5f00\u53d1\u5e26\u6765\u7684\u4fbf\u5229\uff0c\u540c\u65f6\u4e5f\u5bf9 Vite \u7684\u638c\u63e1\u66f4\u6df1\u5165\u4e86\u4e00\u6b65\u3002"),(0,p.kt)("p",null,"\u672c\u8282\u7684\u5185\u5bb9\u5c31\u5230\u8fd9\u91cc\u4e86\uff0c\u611f\u8c22\u4f60\u7684\u9605\u8bfb\uff0c\u6211\u4eec\u4e0b\u4e00\u8282\u518d\u89c1\ud83d\udc4b\ud83c\udffb\uff01"))}c.isMDXComponent=!0}}]);